<!DOCTYPE html>
<html>
    
    <head>
        <title>Stocksy's Cloud Resume Challenge - AWS</title>

        <style>
            .myDiv {
                border: 5px outset red;
                text-align: center;
                font-family: Verdana, Geneva, Tahoma, sans-serif;
            }
            body {
                background-color: lightblue;
            }
            h1 {
                color: black;
                text-align: center;
            }
            h3 {
                color: white;
                text-align: left;
                font-family: Verdana, Geneva, Tahoma, sans-serif;
            }
            h4 {
                color: black;
                text-align: center;
                font-family: Verdana, Geneva, Tahoma, sans-serif;
            }
            p {
                font-family: Verdana, Geneva, Tahoma, sans-serif;
                font-size: 20px;
            }
            ul {
                font-family: Verdana, Geneva, Tahoma, sans-serif;
                font-size: 16px;
            }
        </style>
    
    </head>
    
    <body>

        <h1>
            Stocksy's Cloud Resume Challenge - AWS
        </h1>
   
        <h3>
            I'm completing The Cloud Resume Challenge!
        </h3>

        <h4>
            For further details, visit <a href="https://cloudresumechallenge.dev/docs/the-challenge/aws/" target="_blank">The Cloud Resume Challenge - AWS</a>
        </h4>
        
        <p>
            To satisfy the challenge, this webpage:
            <ul>
                <li>Is expected to be written in HTML and styled with CSS. Please right click -> View Page Source</li>
                <li>Should feature the AWS Certified Cloud Practitioner certification. Badge below!</li>
            </ul>      
        </p>

        <div data-iframe-width="150" data-iframe-height="270" data-share-badge-id="461202f5-55de-41b4-a69a-4f54b4c07cf4" data-share-badge-host="https://www.credly.com"></div>
        <script type="text/javascript" async src="https://cdn.credly.com/assets/utilities/embed.js"></script>

        <p>
            My certifications are listed in <a href="https://www.credly.com/users/paul-stocks.d8dee574" target="_blank">Credly</a>
        </p>

        <p>
            Next, I'm going to publish a <a href="https://cloudresumechallenge.dev/docs/the-challenge/aws/">Blog</a> to describe the process of creating this site and the architecture behind it.
        </p>

        <br></br>

        <!-- Hit counter, written by Claude AI -->
        <div id="hitCounter">Hit Counter: Loading...</div>
        
        <script>
            document.addEventListener('DOMContentLoaded', () => {
                try {
                    const counter = document.getElementById('hitCounter');
                    if (!counter) return; // Exit if element not found
                    
                    // Get the page path to use as a unique identifier
                    const pagePath = window.location.pathname;

                    // API_ENDPOINT env var will be replaced during build time
                    const apiEndpoint = '%%API_ENDPOINT%%/incrementCounter';

                    // Call the API Gateway endpoint to increment the counter
                    fetch(apiEndpoint, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({ pagePath: pagePath })
                    })
                    .then(response => {
                        if (!response.ok) {
                            throw new Error('Network response was not ok');
                        }
                        return response.json();
                    })
                    .then(data => {
                        // Update the counter with the value from the DB
                        counter.textContent = 'Hit Counter: ' + data.count;
                    })
                    .catch(error => {
                        console.error('Error updating hit counter:', error);
                        counter.textContent = 'Hit Counter: Error';
                    });
                } catch (error) {
                    console.log('Hit counter error:', error);
                }
            });
        </script>

    </body>

</html>
